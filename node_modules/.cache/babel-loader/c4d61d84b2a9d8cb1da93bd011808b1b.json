{"ast":null,"code":"import _classCallCheck from \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/msyahmizulkepli/Documents/medibotv4-fms-react/src/components/Map.jsx\";\nimport React, { Component } from \"react\";\nimport { Row, Col, Form, Button, ButtonGroup, ListGroup, ToggleButton, ToggleButtonGroup, FloatingLabel, Modal, Alert } from \"react-bootstrap\";\nimport { IoNavigate, IoCloseCircleOutline, IoLocation, IoRemoveOutline, IoAddOutline, IoCaretBack, IoCaretForward, IoCaretUp, IoCaretDown, IoNavigateOutline, IoSaveOutline, IoTrashOutline } from \"react-icons/io5\";\nimport { VscClearAll } from \"react-icons/vsc\";\nimport Config from \"../scripts/config\";\nimport Teleoperation from \"./Teleoperation\";\nwindow.navigation = false;\nwindow.homing = false;\nwindow.navoption = 1;\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inherits(Map, _Component);\n\n  function Map() {\n    var _this;\n\n    _classCallCheck(this, Map);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Map).call(this));\n    _this.state = {\n      ros: null,\n      viewer: null,\n      grid_client: null,\n      robot_nav: 0,\n      show_path: true,\n      pathView1: null,\n      pathTopic1: null,\n      pathView2: null,\n      pathTopic2: null,\n      label: [],\n      show_set_spot: false,\n      goal_status1: {\n        message: \"Doing nothing. Waiting for goal...\",\n        variant: \"info\",\n        show: true\n      },\n      goal_status2: {\n        message: \"Doing nothing. Waiting for goal...\",\n        variant: \"info\",\n        show: true\n      }\n    };\n    _this.view_map = _this.view_map.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.showPath = _this.showPath.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.hidePath = _this.hidePath.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: \"init_connection\",\n    value: function init_connection() {\n      var _this2 = this;\n\n      // eslint-disable-next-line\n      this.state.ros = new window.ROSLIB.Ros();\n      this.state.ros.on(\"connection\", function () {\n        console.info(\"Connected to ROS:MAP\");\n\n        _this2.setState({\n          connected: true\n        });\n      });\n      this.state.ros.on(\"close\", function () {\n        console.warn(\"Disconnected from ROS:MAP\");\n\n        _this2.setState({\n          connected: false\n        }); //try to reconnect every 3 seconds\n\n\n        setTimeout(function () {\n          try {\n            _this2.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n          } catch (error) {\n            console.error(\"Connection problem : MAP\");\n          }\n        }, Config.RECONNECTION_TIMER);\n      });\n\n      try {\n        this.state.ros.connect(\"ws://\" + Config.ROSBRIDGE_SERVER_IP + \":\" + Config.ROSBRIDGE_SERVER_PORT + \"\");\n      } catch (error) {\n        console.error(\"Connection problem : MAP\");\n      }\n\n      this.state.ros.on(\"error\", function (error) {// console.log('Error connecting to ROS: ', error);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init_connection();\n      this.view_map();\n      this.showPath();\n      this.getGoalStatus();\n    }\n  }, {\n    key: \"view_map\",\n    value: function view_map() {\n      this.state.viewer = new window.ROS2D.Viewer({\n        divID: \"nav_div\",\n        width: 640,\n        height: 480\n      });\n      var navClient = new window.NAV2D.OccupancyGridClientNav2({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene,\n        viewer: this.state.viewer,\n        continuous: true\n      });\n    }\n  }, {\n    key: \"navigation\",\n    value: function navigation() {\n      var _this3 = this;\n\n      if (this.state.pathView == null && this.state.pathTopic == null && this.state.show_path) {\n        this.showPath();\n      }\n\n      try {\n        window.navigation = true;\n        window.homing = false;\n      } catch (error) {\n        console.error(\"window.navigation or window.homing problem\");\n      }\n\n      if (window.navoption == 0) {\n        setTimeout(function () {\n          _this3.hidePath();\n        }, 5000);\n        setTimeout(function () {\n          _this3.showPath();\n        }, 5000);\n      }\n    }\n  }, {\n    key: \"localize\",\n    value: function localize() {\n      if (this.state.pathView == null && this.state.pathTopic == null && this.state.show_path) {\n        this.showPath();\n      }\n\n      try {\n        window.navigation = false;\n        window.homing = true;\n      } catch (error) {\n        console.error(\"window.navigation or window.homing problem\");\n      }\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      try {\n        window.navigation = false;\n        window.homing = false;\n      } catch (error) {\n        console.error(\"window.navigation or window.homing problem\");\n      }\n\n      if (this.state.robot_nav == 1) {\n        // stop robot1\n        var move_base_stop1 = new window.ROSLIB.Topic({\n          ros: this.state.ros,\n          name: Config.ROBOT1_NAMESPACE + '/move_base/cancel',\n          messageType: 'actionlib_msgs/GoalID'\n        });\n        var move_base_stop_msg1 = new window.ROSLIB.Message({\n          id: ''\n        });\n        move_base_stop1.publish(move_base_stop_msg1);\n        this.state.viewer.scene.removeChild(this.state.pathView1);\n        this.hidePath1(true);\n      }\n\n      if (this.state.robot_nav == 2) {\n        // stop robot2\n        var move_base_stop2 = new window.ROSLIB.Topic({\n          ros: this.state.ros,\n          name: Config.ROBOT2_NAMESPACE + '/move_base/cancel',\n          messageType: 'actionlib_msgs/GoalID'\n        });\n        var move_base_stop_msg2 = new window.ROSLIB.Message({\n          id: ''\n        });\n        move_base_stop2.publish(move_base_stop_msg2);\n        this.state.viewer.scene.removeChild(this.state.pathView2);\n        this.hidePath2(true);\n      }\n    }\n  }, {\n    key: \"showPath\",\n    value: function showPath() {\n      var _this4 = this;\n\n      this.setState({\n        show_path: true\n      }); // show robot1 path\n\n      if (this.state.pathView1 == null && this.state.pathTopic1 == null) {\n        this.state.pathView1 = new window.ROS2D.PathShape({\n          ros: this.state.ros,\n          strokeSize: 0.2,\n          strokeColor: \"green\"\n        });\n        this.state.viewer.scene.addChild(this.state.pathView1);\n        this.state.pathTopic1 = new window.ROSLIB.Topic({\n          ros: this.state.ros,\n          name: Config.ROBOT1_NAMESPACE + '/move_base/NavfnROS/plan',\n          messageType: 'nav_msgs/Path'\n        });\n        this.state.pathTopic1.subscribe(function (message) {\n          try {\n            _this4.state.pathView1.setPath(message);\n          } catch (error) {\n            console.error(\"show path error\");\n          }\n        });\n      } // show robot2 path\n\n\n      if (this.state.pathView2 == null && this.state.pathTopic2 == null) {\n        this.state.pathView2 = new window.ROS2D.PathShape({\n          ros: this.state.ros,\n          strokeSize: 0.2,\n          strokeColor: \"green\"\n        });\n        this.state.viewer.scene.addChild(this.state.pathView2);\n        this.state.pathTopic2 = new window.ROSLIB.Topic({\n          ros: this.state.ros,\n          name: Config.ROBOT2_NAMESPACE + '/move_base/NavfnROS/plan',\n          messageType: 'nav_msgs/Path'\n        });\n        this.state.pathTopic2.subscribe(function (message) {\n          try {\n            _this4.state.pathView2.setPath(message);\n          } catch (error) {\n            console.error(\"show path error\");\n          }\n        });\n      }\n    }\n  }, {\n    key: \"hidePath\",\n    value: function hidePath() {\n      this.hidePath1();\n      this.hidePath2();\n    }\n  }, {\n    key: \"hidePath1\",\n    value: function hidePath1() {\n      var isStopping = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!isStopping) {\n        this.setState({\n          show_path: false\n        });\n      }\n\n      this.state.viewer.scene.removeChild(this.state.pathView1);\n\n      if (this.state.pathTopic1) {\n        this.state.pathTopic1.unsubscribe();\n      }\n\n      this.setState({\n        pathView1: null\n      });\n      this.setState({\n        pathTopic1: null\n      });\n    }\n  }, {\n    key: \"hidePath2\",\n    value: function hidePath2() {\n      var isStopping = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!isStopping) {\n        this.setState({\n          show_path: false\n        });\n      }\n\n      this.state.viewer.scene.removeChild(this.state.pathView2);\n\n      if (this.state.pathTopic2) {\n        this.state.pathTopic2.unsubscribe();\n      }\n\n      this.setState({\n        pathView2: null\n      });\n      this.setState({\n        pathTopic2: null\n      });\n    }\n  }, {\n    key: \"zoomInMap\",\n    value: function zoomInMap() {\n      var zoom = new window.ROS2D.ZoomView({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene\n      });\n      zoom.startZoom(250, 250);\n      zoom.zoom(1.2);\n    }\n  }, {\n    key: \"zoomOutMap\",\n    value: function zoomOutMap() {\n      var zoom = new window.ROS2D.ZoomView({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene\n      });\n      zoom.startZoom(250, 250);\n      zoom.zoom(0.8);\n    }\n  }, {\n    key: \"panUpMap\",\n    value: function panUpMap() {\n      var pan = new window.ROS2D.PanView({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene\n      });\n      pan.startPan(250, 250);\n      pan.pan(250, 300);\n    }\n  }, {\n    key: \"panDownMap\",\n    value: function panDownMap() {\n      var pan = new window.ROS2D.PanView({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene\n      });\n      pan.startPan(250, 250);\n      pan.pan(250, 200);\n    }\n  }, {\n    key: \"panRightMap\",\n    value: function panRightMap() {\n      var pan = new window.ROS2D.PanView({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene\n      });\n      pan.startPan(250, 250);\n      pan.pan(200, 250);\n    }\n  }, {\n    key: \"panLeftMap\",\n    value: function panLeftMap() {\n      var pan = new window.ROS2D.PanView({\n        ros: this.state.ros,\n        rootObject: this.state.viewer.scene\n      });\n      pan.startPan(250, 250);\n      pan.pan(300, 250);\n    }\n  }, {\n    key: \"getGoalStatus\",\n    value: function getGoalStatus() {\n      var _this5 = this;\n\n      // robot1 status\n      var goal_status_sub1 = new window.ROSLIB.Topic({\n        ros: this.state.ros,\n        name: Config.ROBOT1_NAMESPACE + '/move_base/status',\n        messageType: 'actionlib_msgs/GoalStatusArray'\n      });\n      goal_status_sub1.subscribe(function (message) {\n        var i;\n\n        for (i = 0; i < message.status_list.length; i++) {\n          if (message.status_list[i].status === 1) {\n            _this5.setState({\n              goal_status1: {\n                message: \"Goal received. Moving there...\",\n                variant: \"warning\",\n                status: true\n              }\n            });\n          }\n        }\n      });\n      var goal_result_sub1 = new window.ROSLIB.Topic({\n        ros: this.state.ros,\n        name: Config.ROBOT1_NAMESPACE + '/move_base/result',\n        messageType: 'move_base_msgs/MoveBaseActionResult'\n      });\n      goal_result_sub1.subscribe(function (message) {\n        if (message.status.status === 2) {\n          _this5.setState({\n            goal_status1: {\n              message: \"Goal canceled.\",\n              variant: \"danger\",\n              status: true\n            }\n          });\n        } else if (message.status.status === 3) {\n          _this5.setState({\n            goal_status1: {\n              message: \"Goal reached successfully.\",\n              variant: \"success\",\n              status: true\n            }\n          });\n\n          _this5.hidePath1(true);\n        }\n\n        setTimeout(function () {\n          _this5.setState({\n            goal_status1: {\n              message: \"Doing nothing. Waiting for goal...\",\n              variant: \"info\",\n              status: true\n            }\n          });\n        }, 5000);\n      }); // robot2 status\n\n      var goal_status_sub2 = new window.ROSLIB.Topic({\n        ros: this.state.ros,\n        name: Config.ROBOT2_NAMESPACE + '/move_base/status',\n        messageType: 'actionlib_msgs/GoalStatusArray'\n      });\n      goal_status_sub2.subscribe(function (message) {\n        var i;\n\n        for (i = 0; i < message.status_list.length; i++) {\n          if (message.status_list[i].status === 1) {\n            _this5.setState({\n              goal_status2: {\n                message: \"Goal received. Moving there...\",\n                variant: \"warning\",\n                status: true\n              }\n            });\n          }\n        }\n      });\n      var goal_result_sub2 = new window.ROSLIB.Topic({\n        ros: this.state.ros,\n        name: Config.ROBOT2_NAMESPACE + '/move_base/result',\n        messageType: 'move_base_msgs/MoveBaseActionResult'\n      });\n      goal_result_sub2.subscribe(function (message) {\n        if (message.status.status === 2) {\n          _this5.setState({\n            goal_status2: {\n              message: \"Goal canceled.\",\n              variant: \"danger\",\n              status: true\n            }\n          });\n        } else if (message.status.status === 3) {\n          _this5.setState({\n            goal_status2: {\n              message: \"Goal reached successfully.\",\n              variant: \"success\",\n              status: true\n            }\n          });\n\n          _this5.hidePath2(true);\n        }\n\n        setTimeout(function () {\n          _this5.setState({\n            goal_status2: {\n              message: \"Doing nothing. Waiting for goal...\",\n              variant: \"info\",\n              status: true\n            }\n          });\n        }, 5000);\n      });\n    }\n  }, {\n    key: \"getSpot\",\n    value: function getSpot() {\n      var _this6 = this;\n\n      var get_spot = new window.ROSLIB.Service({\n        ros: this.state.ros,\n        name: '/spots/get_spot',\n        serviceType: 'medibotv4/GetSpot'\n      });\n      var request = new window.ROSLIB.ServiceRequest({});\n      var i,\n          temp_label = [];\n      get_spot.callService(request, function (result) {\n        for (i = 0; i < result.label.length; i++) {\n          temp_label.push(result.label[i].toString());\n        }\n      });\n      setTimeout(function () {\n        _this6.setState({\n          label: []\n        });\n\n        _this6.setState({\n          label: _this6.state.label.concat(temp_label)\n        });\n      }, 500);\n    }\n  }, {\n    key: \"sendGoal\",\n    value: function sendGoal() {\n      var _this7 = this;\n\n      console.log(this.refs.select_spot_form_ref.value);\n      var send_goal = new window.ROSLIB.Service({\n        ros: this.state.ros,\n        name: '/spots/send_goal',\n        serviceType: 'medibotv4/SendGoal'\n      });\n      var request = new window.ROSLIB.ServiceRequest({\n        label: this.refs.select_spot_form_ref.value\n      });\n      send_goal.callService(request, function (result) {\n        console.log(result.success);\n        console.log(result.message);\n      });\n      setTimeout(function () {\n        if (_this7.state.pathView == null && _this7.state.pathTopic == null && _this7.state.show_path) {\n          _this7.showPath();\n        }\n      }, 100);\n    }\n  }, {\n    key: \"setSpot\",\n    value: function setSpot(act) {\n      var _this8 = this;\n\n      var temp_label;\n\n      if (act === 'add') {\n        temp_label = this.refs.set_spot_form_ref.value;\n      } else if (act === 'remove') {\n        temp_label = this.refs.select_spot_form_ref.value;\n      } else if (act === 'clear') {\n        temp_label = '';\n      }\n\n      var set_spot = new window.ROSLIB.Service({\n        ros: this.state.ros,\n        name: '/spots/set_spot',\n        serviceType: 'medibotv4/SetSpot'\n      });\n      var request = new window.ROSLIB.ServiceRequest({\n        action: act,\n        //add remove or clear\n        label: temp_label\n      });\n      set_spot.callService(request, function (result) {\n        console.log(result.success);\n        console.log(result.message);\n      });\n      setTimeout(function () {\n        _this8.getSpot();\n\n        if (act === 'add') {\n          _this8.setState({\n            show_set_spot: !_this8.state.show_set_spot\n          });\n        }\n      }, 500);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n        variant: \"light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        id: \"nav_div\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 10\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 10\n        }\n      }, \"ZOOM VIEW\\u2003\", /*#__PURE__*/React.createElement(ButtonGroup, {\n        vertical: true,\n        size: \"md\",\n        className: \"gap-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"rounded-circle\",\n        onClick: function onClick() {\n          _this9.zoomInMap();\n        },\n        variant: \"outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(IoAddOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 108\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        className: \"rounded-circle\",\n        onClick: function onClick() {\n          _this9.zoomOutMap();\n        },\n        variant: \"outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(IoRemoveOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 109\n        }\n      }))), \"\\xA0\\xA0\\xA0 PAN VIEW\\u2003\", /*#__PURE__*/React.createElement(ButtonGroup, {\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"rounded-circle\",\n        onClick: function onClick() {\n          _this9.panLeftMap();\n        },\n        variant: \"outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(IoCaretBack, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 109\n        }\n      }))), /*#__PURE__*/React.createElement(ButtonGroup, {\n        vertical: true,\n        size: \"md\",\n        className: \"gap-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"rounded-circle\",\n        onClick: function onClick() {\n          _this9.panUpMap();\n        },\n        variant: \"outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(IoCaretUp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 107\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        className: \"rounded-circle\",\n        onClick: function onClick() {\n          _this9.panDownMap();\n        },\n        variant: \"outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(IoCaretDown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 109\n        }\n      }))), /*#__PURE__*/React.createElement(ButtonGroup, {\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        className: \"rounded-circle\",\n        onClick: function onClick() {\n          _this9.panRightMap();\n        },\n        variant: \"outline-secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(IoCaretForward, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 110\n        }\n      })))))), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 10\n        }\n      }, \"NAVIGATION\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 38\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ToggleButtonGroup, {\n        type: \"radio\",\n        name: \"robot_nav_btn\",\n        onChange: function onChange(value) {\n          _this9.setState({\n            robot_nav: value\n          });\n\n          window.navoption = value;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(ToggleButton, {\n        id: \"auto_nav_btn\",\n        value: 0,\n        variant: \"outline-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 13\n        }\n      }, \"\\xA0\\xA0Auto\\xA0\\xA0\"), /*#__PURE__*/React.createElement(ToggleButton, {\n        id: \"robot1_nav_btn\",\n        value: 1,\n        variant: \"outline-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 13\n        }\n      }, \"Robot 1\"), /*#__PURE__*/React.createElement(ToggleButton, {\n        id: \"robot2_nav_btn\",\n        value: 2,\n        variant: \"outline-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 13\n        }\n      }, \"Robot 2\")))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 10\n        }\n      }), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 26\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(ButtonGroup, {\n        horizontal: true,\n        size: \"lg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.localize();\n        },\n        variant: \"success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 12\n        }\n      }, \" LOCALIZE \", /*#__PURE__*/React.createElement(IoLocation, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 80\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.navigation();\n        },\n        variant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 12\n        }\n      }, \"NAVIGATE \", /*#__PURE__*/React.createElement(IoNavigate, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 81\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.stop();\n        },\n        variant: \"danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 12\n        }\n      }, \"STOP \", /*#__PURE__*/React.createElement(IoCloseCircleOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 70\n        }\n      }))))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 10\n        }\n      }), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 510,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Form.Check, {\n        label: \"SHOW PATH\",\n        type: \"switch\",\n        id: \"show-path-switch\",\n        checked: this.state.show_path ? true : false,\n        onChange: function onChange() {\n          _this9.state.show_path ? _this9.hidePath() : _this9.showPath();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 11\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 16\n        }\n      }), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 18\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 37\n        }\n      }, \"WAYPOINT NAVIGATION\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 65\n        }\n      }), /*#__PURE__*/React.createElement(Form, {\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(FloatingLabel, {\n        label: \"Select a spot\",\n        size: \"xs\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 521,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        as: \"select\",\n        ref: \"select_spot_form_ref\",\n        size: \"xs\",\n        onClick: function onClick() {\n          if (_this9.refs.select_spot_form_ref.value === \"\") {\n            _this9.getSpot();\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 45\n        }\n      }, this.state.label.map(function (x) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: x,\n          value: x,\n          __self: _this9,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 79\n          }\n        }, x);\n      }))), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(ButtonGroup, {\n        className: \"gap-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.sendGoal();\n        },\n        variant: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 45\n        }\n      }, \"GOTO \", /*#__PURE__*/React.createElement(IoNavigateOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528,\n          columnNumber: 110\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.setState({\n            show_set_spot: !_this9.state.show_set_spot\n          });\n        },\n        variant: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 45\n        }\n      }, \"SAVE \", /*#__PURE__*/React.createElement(IoSaveOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 529,\n          columnNumber: 152\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.setSpot(\"remove\");\n        },\n        variant: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 45\n        }\n      }, \"REMOVE \", /*#__PURE__*/React.createElement(IoTrashOutline, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 119\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick() {\n          _this9.setSpot(\"clear\");\n        },\n        variant: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 45\n        }\n      }, \"CLEAR ALL \", /*#__PURE__*/React.createElement(VscClearAll, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 121\n        }\n      }))))), /*#__PURE__*/React.createElement(Row, {\n        align: \"center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 10\n        }\n      }, \"TELEOPERATION\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 32\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 41\n        }\n      }), /*#__PURE__*/React.createElement(Teleoperation, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 10\n        }\n      }))))));\n    }\n  }]);\n\n  return Map;\n}(Component);\n\nexport default Map;","map":{"version":3,"names":["React","Component","Row","Col","Form","Button","ButtonGroup","ListGroup","ToggleButton","ToggleButtonGroup","FloatingLabel","Modal","Alert","IoNavigate","IoCloseCircleOutline","IoLocation","IoRemoveOutline","IoAddOutline","IoCaretBack","IoCaretForward","IoCaretUp","IoCaretDown","IoNavigateOutline","IoSaveOutline","IoTrashOutline","VscClearAll","Config","Teleoperation","window","navigation","homing","navoption","Map","state","ros","viewer","grid_client","robot_nav","show_path","pathView1","pathTopic1","pathView2","pathTopic2","label","show_set_spot","goal_status1","message","variant","show","goal_status2","view_map","bind","showPath","hidePath","ROSLIB","Ros","on","console","info","setState","connected","warn","setTimeout","connect","ROSBRIDGE_SERVER_IP","ROSBRIDGE_SERVER_PORT","error","RECONNECTION_TIMER","init_connection","getGoalStatus","ROS2D","Viewer","divID","width","height","navClient","NAV2D","OccupancyGridClientNav2","rootObject","scene","continuous","pathView","pathTopic","move_base_stop1","Topic","name","ROBOT1_NAMESPACE","messageType","move_base_stop_msg1","Message","id","publish","removeChild","hidePath1","move_base_stop2","ROBOT2_NAMESPACE","move_base_stop_msg2","hidePath2","PathShape","strokeSize","strokeColor","addChild","subscribe","setPath","isStopping","unsubscribe","zoom","ZoomView","startZoom","pan","PanView","startPan","goal_status_sub1","i","status_list","length","status","goal_result_sub1","goal_status_sub2","goal_result_sub2","get_spot","Service","serviceType","request","ServiceRequest","temp_label","callService","result","push","toString","concat","log","refs","select_spot_form_ref","value","send_goal","success","act","set_spot_form_ref","set_spot","action","getSpot","zoomInMap","zoomOutMap","panLeftMap","panUpMap","panDownMap","panRightMap","localize","stop","map","x","sendGoal","setSpot"],"sources":["/Users/msyahmizulkepli/Documents/medibotv4-fms-react/src/components/Map.jsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport {Row, Col, Form, Button, ButtonGroup, ListGroup, ToggleButton, ToggleButtonGroup, FloatingLabel, Modal, Alert} from \"react-bootstrap\";\nimport { IoNavigate, IoCloseCircleOutline, IoLocation, IoRemoveOutline, IoAddOutline, IoCaretBack, IoCaretForward, IoCaretUp, IoCaretDown, IoNavigateOutline, IoSaveOutline, IoTrashOutline } from \"react-icons/io5\";\nimport { VscClearAll } from \"react-icons/vsc\";\nimport Config from \"../scripts/config\";\nimport Teleoperation from \"./Teleoperation\";\nwindow.navigation = false;\nwindow.homing = false;\nwindow.navoption = 1;\n\nclass Map extends Component {\n    state = {\n        ros:null,\n\t\tviewer:null,\n\t\tgrid_client: null,\n\t\trobot_nav: 0,\n\t\tshow_path:true,\n\t\tpathView1:null,\n\t\tpathTopic1:null,\n\t\tpathView2:null,\n\t\tpathTopic2:null,\n\t\tlabel:[],\n\t\tshow_set_spot:false,\n\t\tgoal_status1:{message: \"Doing nothing. Waiting for goal...\",variant: \"info\",show:true},\n\t\tgoal_status2:{message: \"Doing nothing. Waiting for goal...\",variant: \"info\",show:true}\n    };\n\n    constructor(){\n\t\tsuper();\n\t\tthis.view_map = this.view_map.bind(this);\n\t\tthis.showPath = this.showPath.bind(this);\n\t\tthis.hidePath = this.hidePath.bind(this);\n\t}\n\n    init_connection(){\n\t\t// eslint-disable-next-line\n\t\tthis.state.ros = new window.ROSLIB.Ros();\n\n\t\tthis.state.ros.on(\"connection\", () => {\n\t\t\tconsole.info(\"Connected to ROS:MAP\");\n\t\t\tthis.setState({connected:true});\n\t\t});\n\n\t\tthis.state.ros.on(\"close\", () => {\n\t\t\tconsole.warn(\"Disconnected from ROS:MAP\");\n\t\t\tthis.setState({connected:false});\n\t\t\t//try to reconnect every 3 seconds\n\t\t\tsetTimeout(()=>{\n\t\t\t\ttry{\n\t\t\t\t\tthis.state.ros.connect(\n\t\t\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t\t\t);\n\t\t\t\t}catch(error){\n\t\t\t\t\tconsole.error(\"Connection problem : MAP\");\n\t\t\t\t}\n\t\t\t},Config.RECONNECTION_TIMER);\n\t\t});\n\n\t\ttry{\n\t\t\tthis.state.ros.connect(\n\t\t\t\t\"ws://\"+Config.ROSBRIDGE_SERVER_IP+\":\"+Config.ROSBRIDGE_SERVER_PORT+\"\"\n\t\t\t);\n\t\t}catch(error){\n\t\t\tconsole.error(\"Connection problem : MAP\");\n\t\t}\n\n\t\tthis.state.ros.on(\"error\", (error) => {\n\t\t\t// console.log('Error connecting to ROS: ', error);\n\t\t});\n\t}\n\n    componentDidMount(){\n\t\tthis.init_connection();\n\t\tthis.view_map();\n\t\tthis.showPath();\n\t\tthis.getGoalStatus();\n\t}\n\n    view_map(){\n\n\t\tthis.state.viewer = new window.ROS2D.Viewer({\n\t\t\tdivID: \"nav_div\",\n\t\t\twidth: 640,\n\t\t\theight: 480,\n\t\t});\n\n\t\tvar navClient = new window.NAV2D.OccupancyGridClientNav2({\n\t\t\tros: this.state.ros,\n\t\t\trootObject: this.state.viewer.scene,\n\t\t\tviewer: this.state.viewer,\n\t\t\tcontinuous: true,\n\t\t});\n \n\t}\n\n    navigation(){\n\t\tif(this.state.pathView==null && this.state.pathTopic==null && this.state.show_path){\n\t\t\tthis.showPath();\n\t\t}\n\t\ttry{\n\t\t\twindow.navigation = true;\n\t\t\twindow.homing = false;\n\t\t}catch(error){\n\t\t\tconsole.error(\"window.navigation or window.homing problem\");\n\t\t}\n\t\tif(window.navoption == 0){\n\t\t\tsetTimeout(() => {this.hidePath();}, 5000);\n\t\t\tsetTimeout(() => {this.showPath();}, 5000);\n\t\t}\n\t}\n\n\tlocalize(){\n\t\tif(this.state.pathView==null && this.state.pathTopic==null && this.state.show_path){\n\t\t\tthis.showPath();\n\t\t}\n\t\ttry{\n\t\t\twindow.navigation = false;\n\t\t\twindow.homing = true;\n\t\t}catch(error){\n\t\t\tconsole.error(\"window.navigation or window.homing problem\");\n\t\t}\n\t}\n\n\tstop(){\n\t\ttry{\n\t\t\twindow.navigation = false;\n\t\t\twindow.homing = false;\n\t\t}catch(error){\n\t\t\tconsole.error(\"window.navigation or window.homing problem\");\n\t\t}\n\t\tif (this.state.robot_nav == 1) {\n\t\t\t// stop robot1\n\t\t\tvar move_base_stop1 = new window.ROSLIB.Topic({\n\t\t\t\tros: this.state.ros,\n\t\t\t\tname: Config.ROBOT1_NAMESPACE+'/move_base/cancel',\n\t\t\t\tmessageType: 'actionlib_msgs/GoalID'\n\t\t\t});\n\t\t\tvar move_base_stop_msg1 = new window.ROSLIB.Message({\n\t\t\t\tid: ''\n\t\t\t});\n\t\t\tmove_base_stop1.publish(move_base_stop_msg1);\n\t\t\tthis.state.viewer.scene.removeChild(this.state.pathView1);\n\t\t\tthis.hidePath1(true);\n\t\t}\n\t\tif (this.state.robot_nav == 2) {\n\t\t\t// stop robot2\n\t\t\tvar move_base_stop2 = new window.ROSLIB.Topic({\n\t\t\t\tros: this.state.ros,\n\t\t\t\tname: Config.ROBOT2_NAMESPACE+'/move_base/cancel',\n\t\t\t\tmessageType: 'actionlib_msgs/GoalID'\n\t\t\t});\n\t\t\tvar move_base_stop_msg2 = new window.ROSLIB.Message({\n\t\t\t\tid: ''\n\t\t\t});\n\t\t\tmove_base_stop2.publish(move_base_stop_msg2);\n\t\t\tthis.state.viewer.scene.removeChild(this.state.pathView2);\n\t\t\tthis.hidePath2(true);\n\t\t}\n\t\t\n\t}\n\n\tshowPath(){\n\t\tthis.setState({show_path:true});\n\t\t// show robot1 path\n\t\tif(this.state.pathView1==null && this.state.pathTopic1==null){\n\t\t\tthis.state.pathView1 = new window.ROS2D.PathShape({\n\t            ros: this.state.ros,\n\t            strokeSize: 0.2,\n\t            strokeColor: \"green\",\n\t        });\n\n\t        this.state.viewer.scene.addChild(this.state.pathView1);\n\n\t        this.state.pathTopic1 = new window.ROSLIB.Topic({\n\t            ros: this.state.ros,\n\t            name: Config.ROBOT1_NAMESPACE+'/move_base/NavfnROS/plan',\n\t            messageType: 'nav_msgs/Path'\n\t        });\n\n\t        this.state.pathTopic1.subscribe((message)=>{\n\t        \ttry{\n\t        \t\tthis.state.pathView1.setPath(message);\n\t        \t}catch(error){\n\t        \t\tconsole.error(\"show path error\");\n\t        \t}\n\t            \n\t        });\n\t\t}\n\t\t// show robot2 path\n\t\tif(this.state.pathView2==null && this.state.pathTopic2==null){\n\t\t\tthis.state.pathView2 = new window.ROS2D.PathShape({\n\t            ros: this.state.ros,\n\t            strokeSize: 0.2,\n\t            strokeColor: \"green\",\n\t        });\n\n\t        this.state.viewer.scene.addChild(this.state.pathView2);\n\n\t        this.state.pathTopic2 = new window.ROSLIB.Topic({\n\t            ros: this.state.ros,\n\t            name: Config.ROBOT2_NAMESPACE+'/move_base/NavfnROS/plan',\n\t            messageType: 'nav_msgs/Path'\n\t        });\n\n\t        this.state.pathTopic2.subscribe((message)=>{\n\t        \ttry{\n\t        \t\tthis.state.pathView2.setPath(message);\n\t        \t}catch(error){\n\t        \t\tconsole.error(\"show path error\");\n\t        \t}\n\t            \n\t        });\n\t\t}\n\t}\n\n\thidePath(){\n\t\tthis.hidePath1();\n\t\tthis.hidePath2();\n\t}\n\n\thidePath1(isStopping=false){\n\t\tif(!isStopping){\n\t\t\tthis.setState({show_path:false});\n\t\t}\n\t\t\n        this.state.viewer.scene.removeChild(this.state.pathView1);\n        if (this.state.pathTopic1) {\n            this.state.pathTopic1.unsubscribe();\n        }\n        this.setState({pathView1:null});\n        this.setState({pathTopic1:null});\n\t}\n\n\thidePath2(isStopping=false){\n\t\tif(!isStopping){\n\t\t\tthis.setState({show_path:false});\n\t\t}\n\t\t\n\t\tthis.state.viewer.scene.removeChild(this.state.pathView2);\n\t\tif (this.state.pathTopic2) {\n\t\t\tthis.state.pathTopic2.unsubscribe();\n\t\t}\n\t\tthis.setState({pathView2:null});\n        this.setState({pathTopic2:null});\n\t}\n\n\n    zoomInMap(){\n        var zoom = new window.ROS2D.ZoomView({\n            ros: this.state.ros,\n            rootObject: this.state.viewer.scene\n        });\n        zoom.startZoom(250, 250);\n        zoom.zoom(1.2);\n    }\n\n    zoomOutMap(){\n        var zoom = new window.ROS2D.ZoomView({\n            ros: this.state.ros,\n            rootObject: this.state.viewer.scene\n        });\n        zoom.startZoom(250, 250);\n        zoom.zoom(0.8);\n    }\n\n\n    panUpMap(){\n        var pan = new window.ROS2D.PanView({\n            ros: this.state.ros,\n            rootObject: this.state.viewer.scene\n        });\n        pan.startPan(250, 250);\n        pan.pan(250,300);\n    }\n\n    panDownMap(){\n        var pan = new window.ROS2D.PanView({\n            ros: this.state.ros,\n            rootObject: this.state.viewer.scene\n        });\n        pan.startPan(250, 250);\n        pan.pan(250,200);\n    }\n\n    panRightMap(){\n        var pan = new window.ROS2D.PanView({\n            ros: this.state.ros,\n            rootObject: this.state.viewer.scene\n        });\n        pan.startPan(250, 250);\n        pan.pan(200,250);\n    }\n\n    panLeftMap(){\n        var pan = new window.ROS2D.PanView({\n            ros: this.state.ros,\n            rootObject: this.state.viewer.scene\n        });\n        pan.startPan(250, 250);\n        pan.pan(300,250);\n    }\n\n\tgetGoalStatus(){\n\t\t// robot1 status\n\t\tvar goal_status_sub1 = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ROBOT1_NAMESPACE+'/move_base/status',\n\t\t\tmessageType : 'actionlib_msgs/GoalStatusArray'\n\t\t});\n\t\tgoal_status_sub1.subscribe((message)=>{\n\t\t\tvar i;\n\t\t\tfor(i=0; i<message.status_list.length; i++){\n\t\t\t\tif(message.status_list[i].status === 1){\n\t\t\t\t\tthis.setState({goal_status1:{message:\"Goal received. Moving there...\",variant:\"warning\",status:true}});\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t});\n\n\t\tvar goal_result_sub1 = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ROBOT1_NAMESPACE+'/move_base/result',\n\t\t\tmessageType : 'move_base_msgs/MoveBaseActionResult'\n\t\t});\n\t\tgoal_result_sub1.subscribe((message)=>{\n\t\t\tif(message.status.status === 2){\n\t\t\t\tthis.setState({goal_status1:{message:\"Goal canceled.\",variant:\"danger\",status:true}});\n\t\t\t}\n\t\t\telse if(message.status.status === 3){\n\t\t\t\tthis.setState({goal_status1:{message:\"Goal reached successfully.\",variant:\"success\",status:true}});\n\t\t\t\tthis.hidePath1(true);\n\t\t\t}\t\n\t\t\tsetTimeout(() => {this.setState({goal_status1:{message:\"Doing nothing. Waiting for goal...\",variant:\"info\",status:true}});}, 5000);\n\t\t});\n\n\t\t// robot2 status\n\t\tvar goal_status_sub2 = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ROBOT2_NAMESPACE+'/move_base/status',\n\t\t\tmessageType : 'actionlib_msgs/GoalStatusArray'\n\t\t});\n\t\tgoal_status_sub2.subscribe((message)=>{\n\t\t\tvar i;\n\t\t\tfor(i=0; i<message.status_list.length; i++){\n\t\t\t\tif(message.status_list[i].status === 1){\n\t\t\t\t\tthis.setState({goal_status2:{message:\"Goal received. Moving there...\",variant:\"warning\",status:true}});\n\t\t\t\t}\n\t\t\t}\t\t\t\n\t\t});\n\n\t\tvar goal_result_sub2 = new window.ROSLIB.Topic({\n\t\t\tros : this.state.ros,\n\t\t\tname : Config.ROBOT2_NAMESPACE+'/move_base/result',\n\t\t\tmessageType : 'move_base_msgs/MoveBaseActionResult'\n\t\t});\n\t\tgoal_result_sub2.subscribe((message)=>{\n\t\t\tif(message.status.status === 2){\n\t\t\t\tthis.setState({goal_status2:{message:\"Goal canceled.\",variant:\"danger\",status:true}});\n\t\t\t}\n\t\t\telse if(message.status.status === 3){\n\t\t\t\tthis.setState({goal_status2:{message:\"Goal reached successfully.\",variant:\"success\",status:true}});\n\t\t\t\tthis.hidePath2(true);\n\t\t\t}\t\n\t\t\tsetTimeout(() => {this.setState({goal_status2:{message:\"Doing nothing. Waiting for goal...\",variant:\"info\",status:true}});}, 5000);\n\t\t});\n\t}\n\n\tgetSpot(){\n\t\tvar get_spot = new window.ROSLIB.Service({\n\t\t\tros : this.state.ros,\n\t\t\tname : '/spots/get_spot',\n\t\t\tserviceType : 'medibotv4/GetSpot'\n\t\t});\n\n\t\tvar request = new window.ROSLIB.ServiceRequest({});\n\t\tvar i, temp_label=[];\n\t\tget_spot.callService(request, function(result) {\n\t\t\tfor(i=0; i<result.label.length; i++){\n\t\t\t\ttemp_label.push(result.label[i].toString());\n\t\t\t}\n\t\t});\n\t\tsetTimeout(() => {\n\t\t\tthis.setState({ label: []});\n\t\t\tthis.setState({ label: this.state.label.concat(temp_label)});\n\t\t}, 500);\n    }\n\n    sendGoal(){\n    \tconsole.log(this.refs.select_spot_form_ref.value);\n\n\n    \tvar send_goal = new window.ROSLIB.Service({\n\t\t\tros : this.state.ros,\n\t\t\tname : '/spots/send_goal',\n\t\t\tserviceType : 'medibotv4/SendGoal'\n\t\t});\n\n\t\tvar request = new window.ROSLIB.ServiceRequest({\n\t\t\tlabel: this.refs.select_spot_form_ref.value\n\t\t});\n\n\t\tsend_goal.callService(request, function(result) {\n\t\t\tconsole.log(result.success);\n\t\t\tconsole.log(result.message);\n\t\t});\n\n\t\tsetTimeout(() => {\n\t\t\tif(this.state.pathView==null && this.state.pathTopic==null && this.state.show_path){\n\t\t\t\tthis.showPath();\n\t\t\t}\n\t\t}, 100);\t\n    }\n\n    setSpot(act){\n    \tvar temp_label;\n    \tif(act === 'add'){\n    \t\ttemp_label = this.refs.set_spot_form_ref.value;\n    \t}\n    \telse if(act === 'remove'){\n\t\t\ttemp_label = this.refs.select_spot_form_ref.value;\n    \t}\n    \telse if(act === 'clear'){\n    \t\ttemp_label = '';\n    \t}\n\n    \tvar set_spot = new window.ROSLIB.Service({\n\t\t\tros : this.state.ros,\n\t\t\tname : '/spots/set_spot',\n\t\t\tserviceType : 'medibotv4/SetSpot'\n\t\t});\n\n\t\tvar request = new window.ROSLIB.ServiceRequest({\n\t\t\taction: act, //add remove or clear\n\t\t\tlabel: temp_label\n\t\t});\n\n\t\tset_spot.callService(request, function(result) {\n\t\t\tconsole.log(result.success);\n\t\t\tconsole.log(result.message);\n\t\t});\t\n\n\t\tsetTimeout(() => {\n\t\t\tthis.getSpot();\n\t\t\tif(act === 'add'){\n    \t\t\tthis.setState({show_set_spot:!this.state.show_set_spot});\n    \t\t}\n\t\t}, 500);\n    }\n\n\trender() {\n\t\treturn (\n\t\t\t\t<div>\n                    <ListGroup.Item variant=\"light\">\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<p id=\"nav_div\" className=\"text-center\"></p>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t\t<h5>\n\t\t\t\t\t\t\t\t\t\tZOOM VIEW&emsp;\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup vertical size=\"md\" className=\"gap-2\">\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"rounded-circle\" onClick={()=>{this.zoomInMap()}} variant=\"outline-secondary\"><IoAddOutline/></Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"rounded-circle\" onClick={()=>{this.zoomOutMap()}} variant=\"outline-secondary\"><IoRemoveOutline/></Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>&nbsp;&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\tPAN VIEW&emsp;\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"md\">\t\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"rounded-circle\" onClick={()=>{this.panLeftMap()}} variant=\"outline-secondary\"><IoCaretBack/></Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup vertical size=\"md\" className=\"gap-3\">\t\t\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"rounded-circle\" onClick={()=>{this.panUpMap()}} variant=\"outline-secondary\"><IoCaretUp/></Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"rounded-circle\" onClick={()=>{this.panDownMap()}} variant=\"outline-secondary\"><IoCaretDown/></Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup size=\"md\">\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"rounded-circle\" onClick={()=>{this.panRightMap()}} variant=\"outline-secondary\"><IoCaretForward/></Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\t\n\t\t\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t\t<h5>NAVIGATION</h5><br></br><br></br>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<Col align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t<ToggleButtonGroup type=\"radio\" name=\"robot_nav_btn\" onChange={(value)=>{this.setState({robot_nav: value}); window.navoption = value;}}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton id=\"auto_nav_btn\" value={0} variant=\"outline-primary\">\n\t\t\t\t\t\t\t\t\t\t\t\t&nbsp;&nbsp;Auto&nbsp;&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton id=\"robot1_nav_btn\" value={1} variant=\"outline-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRobot 1\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleButton id=\"robot2_nav_btn\" value={2} variant=\"outline-danger\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tRobot 2\n\t\t\t\t\t\t\t\t\t\t\t\t</ToggleButton>\n\t\t\t\t\t\t\t\t\t\t\t</ToggleButtonGroup>\n\t\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t<br></br><p></p><br></br>\n\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t<ButtonGroup horizontal size=\"lg\">\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{this.localize()}} variant=\"success\"> LOCALIZE <IoLocation/></Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{this.navigation()}} variant=\"primary\">NAVIGATE <IoNavigate/></Button>\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>{this.stop()}} variant=\"danger\">STOP <IoCloseCircleOutline/></Button>\n\t\t\t\t\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<br></br>\n\t\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t\t<Col></Col><Col></Col><Col>\n\t\t\t\t\t\t\t\t\t\t<h6>\n\t\t\t\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t\t\t<Form.Check label=\"SHOW PATH\" type=\"switch\" id=\"show-path-switch\" checked={this.state.show_path?true:false} onChange={()=>{this.state.show_path?this.hidePath():this.showPath()}}/>\n\t\t\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t</Col><Col></Col><Col></Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t<hr></hr><br></br>\n\t\t\t\t\t\t\t\t<Row align=\"center\">\n                                    <h5>WAYPOINT NAVIGATION</h5><br></br>\n                                    <Form size=\"md\">    \n                                        <FloatingLabel label=\"Select a spot\" size=\"xs\">\n                                            <Form.Control as=\"select\" ref=\"select_spot_form_ref\" size=\"xs\" onClick={()=>{if(this.refs.select_spot_form_ref.value===\"\"){this.getSpot();}}}>\n                                                {this.state.label.map((x) => (<option key={x} value={x}>{x}</option>))}\n                                            </Form.Control>\n                                        </FloatingLabel>\n                                        <p></p>\n                                        <ButtonGroup className=\"gap-1\">\n                                            <Button onClick={()=>{this.sendGoal()}} variant=\"secondary\">GOTO <IoNavigateOutline/></Button>\n                                            <Button onClick={()=>{this.setState({show_set_spot:!this.state.show_set_spot});}} variant=\"secondary\">SAVE <IoSaveOutline/></Button>\n                                            <Button onClick={()=>{this.setSpot(\"remove\")}} variant=\"secondary\">REMOVE <IoTrashOutline/></Button>\n                                            <Button onClick={()=>{this.setSpot(\"clear\")}} variant=\"secondary\">CLEAR ALL <VscClearAll/></Button>\n                                        </ButtonGroup>\t\t\t\t\t\t \t\n                                    </Form>\n                                </Row>\t\n\t\t\t\t\t\t\t\t<Row align=\"center\">\n\t\t\t\t\t\t\t\t\t<h5>TELEOPERATION</h5><br></br><br></br>\n\t\t\t\t\t\t\t\t\t<Teleoperation/>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n                    </ListGroup.Item>\n\t\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Map;"],"mappings":"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"},"metadata":{},"sourceType":"module"}